SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO
  
CREATE PROCEDURE [dbo].[P_USER_UPDATE_STATUS_BY_USER_NAME]  
	@USER_NAME NVARCHAR(50),
	@STATUS BIT
AS  

BEGIN TRY

	SET NOCOUNT ON;

	UPDATE [TBL_USER] 
		SET [ACTIVE] = @STATUS
	WHERE
		[USER_NAME] = @USER_NAME
END TRY		

BEGIN CATCH
	DECLARE @ERR  VARCHAR(1000)
	SELECT @ERR=ERROR_MESSAGE()
	IF	ERROR_SEVERITY () > 12
		BEGIN
			RAISERROR (@ERR, 16, 20)
		END
		--
		ELSE
		--
		BEGIN
			RAISERROR (@ERR, 12, 2)
		END
END CATCH

GO


