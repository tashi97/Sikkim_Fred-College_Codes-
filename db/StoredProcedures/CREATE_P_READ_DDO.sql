SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

DROP PROCEDURE IF EXISTS P_READ_DDO
GO

CREATE PROCEDURE [dbo].[P_READ_DDO]
(
	@DEPT_ID INT
)

AS

BEGIN TRY
	
	SELECT
		DDO_ID,
		DDO_CODE
	FROM 
		DDO_MASTER
	WHERE 
		DEPT_ID = @DEPT_ID
END TRY 


BEGIN CATCH
	DECLARE @ERR  VARCHAR(1000)
	SELECT @ERR=ERROR_MESSAGE()
	IF	ERROR_SEVERITY () > 12
		BEGIN
			RAISERROR (@ERR, 16, 20)
		END
		--
		ELSE
		--
		BEGIN
			RAISERROR (@ERR, 12, 2)
		END
END CATCH

GO